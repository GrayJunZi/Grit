<h4>Identity with Web API</h4><p>It is an API that manages users, passwords, profile data, roles, tokens, email confirmation, external logins etc.</p><p>It is by default built on top of EntityFrameworkCore; you can also create custom data stores.</p><p><br></p><figure><img height="349" src="https://img-c.udemycdn.com/redactor/raw/article_lecture/2023-04-14_03-31-15-d6dd013dc223f39aa92b848da2b6e1d0.png" width="773"></figure><p><br></p><p><br></p><p><br></p><h4>Register Endpoint</h4><figure><img src="https://img-c.udemycdn.com/redactor/raw/article_lecture/2023-04-14_03-31-15-8f78883efeed0e9730a0bf4e78af21bc.png"></figure><p><br></p><p><br></p><h4>Register UI</h4><figure><img src="https://img-c.udemycdn.com/redactor/raw/article_lecture/2023-04-14_03-31-15-dc4f2e4bbb651e4aff1335ec959fcb4b.png"></figure><p><br></p><p><br></p><h4>Login Endpoint</h4><figure><img src="https://img-c.udemycdn.com/redactor/raw/article_lecture/2023-04-14_03-31-16-6b9638ecd36256967934e38a0e6ad3ba.png"></figure><p><br></p><p><br></p><h4>Login UI</h4><figure><img src="https://img-c.udemycdn.com/redactor/raw/article_lecture/2023-04-14_16-03-52-391e1a0078a55c836c8a49d9448cf18a.png"></figure><p><br></p><p><br></p><h4>Introduction to JWT</h4><p>A JSON Web Token (JWT) is a compact and self-contained object for securely transmitting information between parties as a JSON object.</p><p><br></p><figure><img src="https://img-c.udemycdn.com/redactor/raw/article_lecture/2023-04-14_16-03-52-89cf4e5b90be61dc63d420d44300f470.png"></figure><p><br></p><p><br></p><h4>Contents of JWT</h4><p><strong>1. Header (base 64 string)</strong></p><p>Defines the type of token and the signing algorithm used.</p><p>Eg: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9</p><p><br></p><p><strong>2. Payload (base 64 string)</strong></p><p>Contains user claims (user details such as name, email or user type).</p><p>Eg: { "userId": "b08f86af-35da-48f2-8fab-cef3904660bd"}</p><p>Eg: eyJ1c2VySWQiOiJiMDhmOZhZi0zNWRhLTQ4ZjItOOTA0NjYwYmQifQ</p><p><br></p><p><strong>3. Signature (base 64 string)</strong></p><p>It is used to verify to ensure that the message wasn't changed along the way.</p><p>It is usually signed by using a secret key (HMAC algorithm).</p><p>-xN_h82PHVTA9vdoHrcZxH-x5</p><p><br></p><p><br></p><p><br></p><h4>JWT Algorithm</h4><p>Inputs:</p><p><strong>header</strong></p><pre class="prettyprint linenums">{
"typ": "JWT",
"alg": "HS256"
}</pre><p><br></p><p><strong>payload</strong></p><pre class="prettyprint linenums">{
"userId": "b08f86af-35da-48f2-8fab-cef3904660bd"
}
</pre><p><br></p><p><strong>secret</strong></p><p>MySecret</p><p><br></p><p><br></p><p><strong>Algorithm:</strong></p><pre class="prettyprint linenums">data = base64Encode( header ) + "." + base64Encode( payload )
hashedData = hash( data, secret )
signature = base64encode( hashedData )
jwtToken = data + "." + signature</pre><p><br></p><p><strong>Example JWT token:</strong></p><p>eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOiJiMDhmODZhZi0zNWRhLTQ4ZjItOOTA0NjYwYmQifQ.-xN_h82PHVTCMA9vdoHrcZxH-x5mb11y1537t3rGzcM</p><p><br></p><p><br></p><p><br></p><h4>Refresh Tokens - JWT</h4><p>A refresh token is a token (base-64 string of a random number) that is used to obtain a new JWT token every time, when it is expired.</p><p><br></p><figure><img src="https://img-c.udemycdn.com/redactor/raw/article_lecture/2023-04-14_16-25-02-7bdaed0caa2490c3e637ab3c84f1bf82.png"></figure>