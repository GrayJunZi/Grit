@using ViewsExample.Models
@{
    var persons = (IEnumerable<Person>)ViewData["Persons"];
    string alertMessage = $"<script>alert('{persons.Count()} people found')</script>";
}
<!DOCTYPE html>
<html>
<head>
    <title>@ViewData["Title"]</title>
    <meta charset="UTF-8"/>
</head>
<body>
<h1>Welcome</h1>

@Html.Raw(alertMessage)

@for (var i = 0; i < persons.Count(); i++)
{
    var person = persons.ElementAt(i);
    @: Hello
    <div>
        @person.Name
        <span>,</span>
        <span>@person.Gender</span>
        @if (person.DateOfBirth != null)
        {
            <span>@person.DateOfBirth.Value.ToString("yyyy-MM-dd HH:mm:ss.ff")</span>
            <span>@GetAge(person.DateOfBirth) years old</span>
        }
    </div>
}

@functions{

    double? GetAge(DateTime? dateOfBirth)
    {
        if (dateOfBirth is not null)
        {
            return (DateTime.Now - dateOfBirth.Value).TotalDays / 365.25;
        }

        return null;
    }

}

</body>
</html>